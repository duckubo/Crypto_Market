/*!
    *
    * Wijmo Library 5.20242.21
    * https://developer.mescius.com/wijmo
    *
    * Copyright(c) MESCIUS inc. All rights reserved.
    *
    * Licensed under the End-User License Agreement For MESCIUS Wijmo Software.
    * us.sales@mescius.com
    * https://developer.mescius.com/wijmo/licensing
    *
    */

"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++){t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);t.default=e;return t};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=require("react"),wijmo_react_base_1=require("@mescius/wijmo.react.base"),React=__importStar(require("react")),ReactDOM=__importStar(require("react-dom")),wjcCore=__importStar(require("@mescius/wijmo")),wjcInput=__importStar(require("@mescius/wijmo.input")),wjItemTemplatePropertyKey="$__wjItemTemplate",wjItemTemplateProperty="wjItemTemplate";function updateWjItemTemplateProp(e,t){if(e){if(!e[wjItemTemplatePropertyKey]&&t[wjItemTemplateProperty]){e[wjItemTemplatePropertyKey]=new ItemTemplate(e);e[wjItemTemplatePropertyKey].wjItemTemplate=wjcCore.asFunction(t[wjItemTemplateProperty])}else if(e[wjItemTemplatePropertyKey]&&!t[wjItemTemplateProperty]){var o=e[wjItemTemplatePropertyKey];e[wjItemTemplatePropertyKey]=null;o._detachFromControl()}if(e[wjItemTemplatePropertyKey]&&t[wjItemTemplateProperty]){e[wjItemTemplatePropertyKey].wjItemTemplate=wjcCore.asFunction(t[wjItemTemplateProperty]);e[wjItemTemplatePropertyKey]._updateTemplateItems()}}}exports.ListBoxMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["caseSensitiveSearch","checkedItems","checkedMemberPath","displayMemberPath","isContentHtml","itemFormatter","itemRole","itemsSource","maxHeight","selectedIndex","selectedItem","selectedValue","selectedValuePath","showGroups","virtualizationThreshold"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["checkedItemsChanged","formatItem","itemChecked","itemsChanged","loadedItems","loadingItems","selectedIndexChanged"])};exports.ListBox=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.ListBoxMeta.inputs,events:exports.ListBoxMeta.events,props:e,constructor:wjcInput.ListBox,initControl:function(t){updateWjItemTemplateProp(t,e)}});updateWjItemTemplateProp(o.wjControl,e);return o.renderResult}));exports.MultiSelectListBoxMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["caseSensitiveSearch","checkOnFilter","checkedItems","checkedMemberPath","delay","displayMemberPath","filterInputPlaceholder","isContentHtml","itemsSource","selectAllLabel","selectedIndex","showFilterInput","showGroups","showSelectAllCheckbox","virtualizationThreshold"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["checkedItemsChanged","selectedIndexChanged"])};exports.MultiSelectListBox=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.MultiSelectListBoxMeta.inputs,events:exports.MultiSelectListBoxMeta.events,props:e,constructor:wjcInput.MultiSelectListBox}).renderResult}));exports.DropDownMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["autoExpandSelection","clickAction","dropDownCssClass","inputType","isAnimated","isDroppedDown","isReadOnly","isRequired","placeholder","showDropDownButton","text"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["isDroppedDownChanged","isDroppedDownChanging","textChanged"])};exports.ComboBoxMeta={inputs:exports.DropDownMeta.inputs.concat(["caseSensitiveSearch","displayMemberPath","handleWheel","headerPath","isContentHtml","isEditable","itemFormatter","itemsSource","maxDropDownHeight","maxDropDownWidth","selectedIndex","selectedItem","selectedValue","selectedValuePath","showGroups","trimText","virtualizationThreshold"]),events:exports.DropDownMeta.events.concat(["formatItem","itemsSourceChanged","selectedIndexChanged"])};exports.ComboBox=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.ComboBoxMeta.inputs,events:exports.ComboBoxMeta.events,props:e,constructor:wjcInput.ComboBox,initControl:function(t){updateWjItemTemplateProp(t,e)}});updateWjItemTemplateProp(o.wjControl,e);return o.renderResult}));exports.AutoCompleteMeta={inputs:exports.ComboBoxMeta.inputs.concat(["beginsWithSearch","cssMatch","delay","itemsSourceFunction","maxItems","minLength","searchMemberPath"]),events:exports.ComboBoxMeta.events.slice()};exports.AutoComplete=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.AutoCompleteMeta.inputs,events:exports.AutoCompleteMeta.events,props:e,constructor:wjcInput.AutoComplete,initControl:function(t){updateWjItemTemplateProp(t,e)}});updateWjItemTemplateProp(o.wjControl,e);return o.renderResult}));exports.CalendarMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["displayMonth","firstDayOfWeek","formatDayHeaders","formatDays","formatMonths","formatYear","formatYearMonth","handleWheel","isReadOnly","itemFormatter","itemValidator","max","min","monthCount","monthView","rangeEnd","rangeMax","rangeMin","repeatButtons","selectionMode","showHeader","showMonthPicker","showYearPicker","value","weeksAfter","weeksBefore"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["displayMonthChanged","formatItem","rangeChanged","rangeEndChanged","valueChanged"])};exports.Calendar=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.CalendarMeta.inputs,events:exports.CalendarMeta.events,props:e,constructor:wjcInput.Calendar}).renderResult}));exports.ColorPickerMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["palette","showAlphaChannel","showColorString","value"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["valueChanged"])};exports.ColorPicker=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.ColorPickerMeta.inputs,events:exports.ColorPickerMeta.events,props:e,constructor:wjcInput.ColorPicker}).renderResult}));exports.InputMaskMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["inputType","isReadOnly","isRequired","mask","overwriteMode","placeholder","promptChar","rawValue","value"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["valueChanged"])};exports.InputMask=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputMaskMeta.inputs,events:exports.InputMaskMeta.events,props:e,constructor:wjcInput.InputMask}).renderResult}));exports.InputColorMeta={inputs:exports.DropDownMeta.inputs.concat(["palette","showAlphaChannel","showColorString","text","value"]),events:exports.DropDownMeta.events.concat(["valueChanged"])};exports.InputColor=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputColorMeta.inputs,events:exports.InputColorMeta.events,props:e,constructor:wjcInput.InputColor}).renderResult}));exports.MultiSelectMeta={inputs:exports.ComboBoxMeta.inputs.concat(["caseSensitiveSearch","checkOnFilter","checkedItems","checkedMemberPath","delay","filterInputPlaceholder","headerFormat","headerFormatter","maxHeaderItems","selectAllLabel","showFilterInput","showSelectAllCheckbox"]),events:exports.ComboBoxMeta.events.concat(["checkedItemsChanged"])};exports.MultiSelect=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.MultiSelectMeta.inputs,events:exports.MultiSelectMeta.events,props:e,constructor:wjcInput.MultiSelect,initControl:function(t){updateWjItemTemplateProp(t,e)}});updateWjItemTemplateProp(o.wjControl,e);return o.renderResult}));exports.MultiAutoCompleteMeta={inputs:exports.AutoCompleteMeta.inputs.concat(["maxSelectedItems","selectedItems","selectedMemberPath","showDropDownButton"]),events:exports.AutoCompleteMeta.events.concat(["selectedItemsChanged"])};exports.MultiAutoComplete=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.MultiAutoCompleteMeta.inputs,events:exports.MultiAutoCompleteMeta.events,props:e,constructor:wjcInput.MultiAutoComplete}).renderResult}));exports.InputNumberMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["format","handleWheel","inputType","isReadOnly","isRequired","max","min","placeholder","repeatButtons","showSpinner","step","text","value"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["textChanged","valueChanged"])};exports.InputNumber=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputNumberMeta.inputs,events:exports.InputNumberMeta.events,props:e,constructor:wjcInput.InputNumber}).renderResult}));exports.InputDateMeta={inputs:exports.DropDownMeta.inputs.concat(["alwaysShowCalendar","closeOnSelection","format","handleWheel","inputType","itemFormatter","itemValidator","mask","max","min","monthCount","predefinedRanges","rangeEnd","rangeMax","rangeMin","repeatButtons","selectionMode","separator","showHeader","showMonthPicker","showYearPicker","text","value","weeksAfter","weeksBefore","keepInvalidText"]),events:exports.DropDownMeta.events.concat(["rangeChanged","rangeEndChanged","valueChanged"])};exports.InputDate=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputDateMeta.inputs,events:exports.InputDateMeta.events,props:e,constructor:wjcInput.InputDate}).renderResult}));exports.InputTimeMeta={inputs:exports.ComboBoxMeta.inputs.concat(["format","inputType","mask","max","min","step","text","value"]),events:exports.ComboBoxMeta.events.concat(["valueChanged"])};exports.InputTime=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputTimeMeta.inputs,events:exports.InputTimeMeta.events,props:e,constructor:wjcInput.InputTime}).renderResult}));exports.InputDateTimeMeta={inputs:exports.InputDateMeta.inputs.concat(["timeFormat","timeMax","timeMin","timeStep"]),events:exports.InputDateMeta.events.slice()};exports.InputDateTime=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputDateTimeMeta.inputs,events:exports.InputDateTimeMeta.events,props:e,constructor:wjcInput.InputDateTime}).renderResult}));exports.InputDateRangeMeta={inputs:exports.InputDateMeta.inputs.slice(),events:exports.InputDateMeta.events.slice()};exports.InputDateRange=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.InputDateRangeMeta.inputs,events:exports.InputDateRangeMeta.events,props:e,constructor:wjcInput.InputDateRange}).renderResult}));exports.MenuMeta={inputs:exports.ComboBoxMeta.inputs.concat(["closeOnLeave","command","commandParameterPath","commandPath","header","isButton","openOnHover","owner","subItemsPath","ariaLabel","autoSelectOnFocus"]),events:exports.ComboBoxMeta.events.concat(["itemClicked"])};function getReactDOM(){return ReactDOM}function _getContextMenuElements(e){var t=[];(wjcCore.isArray(e)?e:[e]).forEach((function(e){if(e){var o=null;if("string"==typeof e)o=document.getElementById(e);else if("object"==typeof e){var r=e.hostElement?e.hostElement:e.current;if(r)if(r instanceof HTMLElement)o=r;else if(r instanceof wjcCore.Control)o=r.hostElement;else if(r.control&&r.control instanceof wjcCore.Control)o=r.control.hostElement;else{var n=getReactDOM().findDOMNode;n&&(o=n(r))}}o&&t.push(o)}}));return t}exports.Menu=react_1.forwardRef((function(e,t){var o=React.useRef({}),updateHeader=function(e){e.header=e._definedHeader||"";var t=e.selectedItem;if(null!=e.selectedValue&&t&&e.displayMemberPath){var o=null;if(t instanceof _MenuItem){var r=t.itemRoot;o=r?r.innerHTML:t[e.displayMemberPath]}null!=o&&(e.header+=": <b>"+o+"</b>")}},r=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.MenuMeta.inputs,events:exports.MenuMeta.events,props:e,constructor:wjcInput.Menu,prePropsInit:function(t){t._definedHeader=e.header;t.listBox.formatItem.addHandler((function(e,t){if(t.data instanceof _MenuItem||t.data instanceof _MenuSeparator){t.item.textContent="";t.data.updateItem(t.item)}}));queueMicrotask((function(){return updateHeader(t)}))},initControl:function(t){updateWjItemTemplateProp(t,e);t._definedHeader=e.header;t.selectedIndexChanged.addHandler((function(){updateHeader(t)}));if(t.itemsSource&&t.itemsSource.length){Array.from(t.itemsSource).find((function(e){return e instanceof _MenuItem}));t.itemsSource[0]instanceof _MenuItem&&1==t.itemsSource.length&&t.selectedIndex<0&&(t.selectedIndex=0)}},customProps:{header:function(e,t){if(e._definedHeader!=t){e._definedHeader=t;e.header=t;updateHeader(e)}},contextMenuOf:function(e,t){o.current.contextMenuOf||(o.current.contextMenuOf=[]);e.hostElement.style.display=t?"none":"inline-table";for(var r=0,n=o.current.contextMenuOf;r<n.length;r++){var a=n[r];a.el.removeEventListener("contextmenu",a.handler)}o.current.contextMenuOf=[];if(t)for(var _loop_1=function(t){var listener=function(o){if(!wjcCore.closest(o.target,"[disabled]")){var r=e;if(r&&r.dropDown){o.preventDefault();o.stopPropagation();r.owner=t;r.show(o)}}};t.addEventListener("contextmenu",listener);o.current.contextMenuOf.push({el:t,handler:listener})},s=0,i=_getContextMenuElements(t);s<i.length;s++){_loop_1(i[s])}},value:function(e,t){e.selectedValue=t;updateHeader(e)}}});r.wjControl&&(r.wjControl._definedHeader=e.header);updateWjItemTemplateProp(r.wjControl,e);if(r.wjControl&&r.wjControl.itemsSource)for(var n=0,a=r.wjControl.itemsSource;n<a.length;n++){if(a[n]instanceof _MenuItem){r.wjControl.listBox.loadList();break}}return r.renderResult}));exports.MenuItemMeta={inputs:["children","cmd","cmdParam","value"],events:[]};var _MenuItem=function(){function _MenuItem(e,t){this.children=[];this.value=null;this.cmd=null;this.cmdParam=null;this._parent=e;wjcCore.copy(this,t);this._init(t)}_MenuItem.prototype._init=function(e){this._parent.displayMemberPath||(this._parent.displayMemberPath="header");this._parent.selectedValuePath||(this._parent.selectedValuePath="value");this._parent.commandPath||(this._parent.commandPath="cmd");this._parent.commandParameterPath||(this._parent.commandParameterPath="cmdParam")};_MenuItem.prototype.updateItem=function(e){wijmo_react_base_1.selectiveDomUnmount(e);wijmo_react_base_1.selectiveDomRender(this.children,e);this.itemRoot=e};return _MenuItem}();exports.MenuItem=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentChildBase({ref:t,properties:exports.MenuItemMeta.inputs,events:exports.MenuItemMeta.events,props:e,constructor:_MenuItem,needParentInstance:!0,parentProp:"itemsSource",isParentPropArray:!0,assignedToParent:!0});return __assign({$_wjComponent:!0},o)}));exports.MenuSeparator=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentChildBase({ref:t,properties:[],events:[],props:e,constructor:_MenuSeparator,needParentInstance:!0,parentProp:"itemsSource",isParentPropArray:!0,assignedToParent:!0});return __assign({$_wjComponent:!0},o)}));var _MenuSeparator=function(){function _MenuSeparator(e,t){}_MenuSeparator.prototype.updateItem=function(e){wjcCore.createElement("<div></div>",e,{width:"100%",height:"1px",backgroundColor:"lightgray"});wjcCore.addClass(e,"wj-state-disabled");wjcCore.setAttribute(e,"role","separator",!1)};return _MenuSeparator}();exports.PopupMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["content","dialogResult","dialogResultEnter","dialogResultSubmit","fadeIn","fadeOut","hideTrigger","isDraggable","isResizable","isVisible","modal","owner","position","removeOnHide","showTrigger"]),events:wijmo_react_base_1.ControlBaseMeta.events.concat(["dragged","dragging","hidden","hiding","positionChanged","positionChanging","resized","resizing","showing","shown","sizeChanged","sizeChanging"])};function updatePopupContent(e,t){wijmo_react_base_1.selectiveDomRender(t,e.hostElement)}exports.Popup=react_1.forwardRef((function(e,t){var o=wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.PopupMeta.inputs,events:exports.PopupMeta.events,props:e,constructor:wjcInput.Popup,initControl:function(t){t.removeOnHide=!1;updatePopupContent(t,e.children)}});o.wjControl&&updatePopupContent(o.wjControl,e.children);return o.renderResult}));exports.CollectionViewNavigatorMeta={inputs:wijmo_react_base_1.ControlBaseMeta.inputs.concat(["byPage","cv","headerFormat","repeatButtons"]),events:wijmo_react_base_1.ControlBaseMeta.events.slice()};exports.CollectionViewNavigator=react_1.forwardRef((function(e,t){return wijmo_react_base_1.useWjComponentBase({ref:t,properties:exports.CollectionViewNavigatorMeta.inputs,events:exports.CollectionViewNavigatorMeta.events,props:e,constructor:wjcInput.CollectionViewNavigator}).renderResult}));var ItemTemplate=function(){function ItemTemplate(e){this._templateItems=[];this.ownerControl=e;this.listBox=this._getListBox(this.ownerControl);this._attachToControl()}ItemTemplate.prototype._updateTemplateItems=function(){var e=this;this._templateItems.forEach((function(t){wijmo_react_base_1.selectiveDomRender(e._createItemElTpl(t),t.itemEl)}))};ItemTemplate.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this);this.listBox.loadingItems.addHandler(this._destroyTemplateItems,this);this.ownerControl.invalidate()};ItemTemplate.prototype._detachFromControl=function(){this.listBox.formatItem.removeHandler(this._fmtItem,this);this._destroyTemplateItems()};ItemTemplate.prototype._fmtItem=function(e,t){var o=t.item,r={control:e,item:t.data,itemIndex:t.index};this._templateItems.push(__assign({},r,{itemEl:o}));if(wjcCore.isFunction(this.wjItemTemplate)){wijmo_react_base_1.selectiveDomUnmount(o);wijmo_react_base_1.selectiveDomRender(this._createItemElTpl(r),o)}};ItemTemplate.prototype._getListBox=function(e){return e instanceof wjcInput.ListBox?e:e.listBox};ItemTemplate.prototype._destroyTemplateItems=function(){this._templateItems.forEach((function(e){wijmo_react_base_1.selectiveDomUnmount(e.itemEl)}));this._templateItems=[]};ItemTemplate.prototype._createItemElTpl=function(e){return React.createElement("div",{},this.wjItemTemplate({control:e.control,item:e.item,itemIndex:e.itemIndex}))};return ItemTemplate}();