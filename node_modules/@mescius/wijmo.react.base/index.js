/*!
    *
    * Wijmo Library 5.20242.21
    * https://developer.mescius.com/wijmo
    *
    * Copyright(c) MESCIUS inc. All rights reserved.
    *
    * Licensed under the End-User License Agreement For MESCIUS Wijmo Software.
    * us.sales@mescius.com
    * https://developer.mescius.com/wijmo/licensing
    *
    */

"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(o,i){function fulfilled(e){try{step(t.next(e))}catch(e){i(e)}}function rejected(e){try{step(t.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):new n((function(r){r(e.value)})).then(fulfilled,rejected)}step((t=t.apply(e,r||[])).next())}))},__generator=this&&this.__generator||function(e,r){var n,t,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;(t=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:s.label++;return{value:i[1],done:!1};case 5:s.label++;t=i[1];i=[0];continue;case 7:i=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1];o=i;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(i);break}o[2]&&s.ops.pop();s.trys.pop();continue}i=r.call(e,s)}catch(e){i=[6,e];t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=e[n]);r.default=e;return r};Object.defineProperty(exports,"__esModule",{value:!0});var wijmo_1=require("@mescius/wijmo"),ReactDOM=__importStar(require("react-dom")),React=__importStar(require("react")),flushSyncPolyfill=function(e){e()},createRootPolyfill=function(){throw"Wijmo: React dependencies not loaded properly"},ReactDomPolyfill={flushSync:flushSyncPolyfill,createRoot:createRootPolyfill},reactDomClient=ReactDOM||ReactDomPolyfill,flushSync=reactDomClient.flushSync;function lazyImportDomClient(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){try{e=require("react-dom/client");reactDomClient=e||ReactDOM||ReactDomPolyfill;flushSync=e.flushSync||flushSync}catch(e){reactDomClient=ReactDOM||ReactDomPolyfill}return[2]}))}))}var _oldSyncBehavior=!0;function strictStateMode(e){void 0===e&&(e=!1);e==_oldSyncBehavior&&(_oldSyncBehavior=!wijmo_1.asBoolean(e,!1))}exports.strictStateMode=strictStateMode;exports.ControlBaseMeta={inputs:["isDisabled","tabOrder"],events:["gotFocus","invalidInput","lostFocus","refreshed","refreshing"]};var alwaysClearProps=new Set(["columns","columnGroups"]),unsuppressedChangedEventProps=new Set(["panes","columnGroups","columns","items"]),specialProps=new Set(["initialized","wjItemTemplate"]);function updateChildProperties(e,r){var n=e.controlRef.current,t={},o={};if(r){for(var i=wijmo_1.isArray(r)?r.flat(1/0):[r],s=[],a=0,c=new Set,u=0,l=i;u<l.length;u++){if((g=l[u])&&g.type&&g.type.$$typeof==Symbol.for("react.forward_ref")){s.push(g.type.render(g.props,g.ref));s[s.length-1].$index=a;s[s.length-1].$key=g.key}else if(g&&wijmo_1.isFunction(g.type)){s.push(g.type(g.props));s[s.length-1].$index=a;s[s.length-1].$key=g.key}g||c.add(a);a++}for(var p=[],f=0,d=s;f<d.length;f++){if((g=d[f]).assignedToParent){if(g.wjProperty){g.parentProp=wijmo_1.asString(g.wjProperty);g.isParentPropArray=n[g.parentProp]&&wijmo_1.isArray(n[g.parentProp])}g.isParentPropArray&&!t[g.parentProp]&&(t[g.parentProp]=[]);g.isParentPropArray?t[g.parentProp].push({getInstance:g.getInstance,props:g.props,$key:g.$key,$index:g.$index}):t[g.parentProp]={getInstance:g.getInstance,props:g.props}}else p.push(g)}var h=e.childInfo,_loop_1=function(e){if(wijmo_1.isArray(t[e])){var r=!1;if(n[e]&&null!=n[e]._updating&&!unsuppressedChangedEventProps.has(e)){n[e]._updating++;r=!0}var i=h[e];o[e]=[];if(!h[e]){i=[];n[e]&&n[e].clear?n[e].clear():n[e]||(n[e]=new wijmo_1.ObservableArray)}!_oldSyncBehavior&&alwaysClearProps.has(e)&&n[e]&&n[e].clear&&n[e].clear();if(_oldSyncBehavior)for(var s=i.length-1;s>=0;s--)if(c.has(i[s].$index)){n[e].remove(i[s].instance);i.splice(s,1)}for(var a=[],u={},l=0,p=i;l<p.length;l++){var f=p[l];null!=f.$key?u[""+f.$key]=f:a.push(f)}for(var d=0,getExistingInstance=function(e){void 0===e&&(e=null);if(null!=e){var r=u[e];null!=r&&delete u[e];return r}return a[d++]},v=0;v<t[e].length;v++){var y=!1;if(P=getExistingInstance(t[e][v].$key))P.updateProps(t[e][v].props);else{P=t[e][v].getInstance(n);y=!0}P.$index=t[e][v].$index;P.$key=t[e][v].$key;(!_oldSyncBehavior&&alwaysClearProps.has(e)||y)&&(n[e].length==v?n[e].push(P.instance):n[e].splice(v,0,P.instance));o[e].push(P)}for(var m=0,_=Object.keys(u);m<_.length;m++){var g=_[m];n[e].remove(u[g].instance)}for(;!_oldSyncBehavior&&n[e].length>o[e].length;)n[e].pop();if(r){n[e]._updating--;h[e]&&h[e].length==t[e].length||n[e]._raiseCollectionChanged&&n[e]._raiseCollectionChanged()}}else{var P;if(P=h[e])P.updateProps(t[e].props);else{P=t[e].getInstance(n);n[e]=P.instance}o[e]=P}};for(var v in t)_loop_1(v);for(var y=[],m=0,_=h.$_nonassignable||[];m<_.length;m++){var g=_[m];c.has(g.$index)?g.instance&&g.instance.dispose&&wijmo_1.isFunction(g.instance.dispose)&&g.instance.dispose():y.push(g)}for(var P=[],w=0;w<p.length;w++){var R=y[w];R?R.updateProps(p[w].props):R=p[w].getInstance(n);R.$index=p[w].$index;P.push(R)}o.$_nonassignable=P;for(;w<y.length;w++)y[w].instance&&y[w].instance.dispose&&wijmo_1.isFunction(y[w].instance.dispose)&&y[w].instance.dispose()}if(_oldSyncBehavior)for(var S=0,C=Object.keys(e.childInfo);S<C.length;S++){var j=C[S];if(wijmo_1.isArray(e.childInfo[j])&&!t[j]&&n[j]&&n[j].remove)for(var k=0,b=e.childInfo[j];k<b.length;k++){var M=b[k];n[j].remove(M.instance)}}return o}function getPropsAccordingToSyncMode(e,r,n){void 0===n&&(n=null);if(!r||!_oldSyncBehavior){return __assign({},e)}var t={};for(var o in e){var i=!1;n&&(i=n.knowProperties.has(o)||n.knowEvents.has(o)||n.knowCustomProps.has(o));(n&&!i||e[o]!==r[o])&&(t[o]=e[o])}return t}function useWjComponentBase(e){var r=React.useRef({}),n=React.useRef(),t=React.useRef(),o=React.useRef(),i=React.useRef(),s=React.useRef({}),a=React.useRef(!1);e.customProps||(e.customProps={});if(!n.current){n.current={};n.current.knowProperties=new Set(e.properties);n.current.knowEvents=new Set(e.events);n.current.knowCustomProps=new Set(Object.keys(e.customProps))}var c=e.props;if(i.current){c=getPropsAccordingToSyncMode(e.props,r.current,n.current);r.current=e.props}var u={},l={},p={},f={},d=e.ref||null;for(var h in c)if(n.current.knowProperties.has(h))u[h]=c[h];else if(n.current.knowEvents.has(h)){l[h]=c[h];u[h]=c[h]}else e.customProps[h]?f[h]=c[h]:specialProps.has(h)||(p[h]=c[h]);if(i.current&&_oldSyncBehavior)for(var h in l)delete u[h];var updateProps=function(){d&&d.current&&(d.current.props=e.props);updateChildProps();var r=[],n=u;if(o.current&&i.current&&!_oldSyncBehavior){for(var t in o.current)if(i.current[t]){if(i.current[t]._handlersChanged){i.current[t]._cachedHandlersChanged=i.current[t]._handlersChanged;i.current[t]._handlersChanged=null;r.push(i.current[t])}i.current[t].removeHandler(o.current[t])}n=__assign({},u);for(var s in l){delete n[s];i.current[s].addHandler(l[s])}}else if(!o.current){n=__assign({},u);for(var s in l)delete n[s]}o.current=l;if(i.current){wijmo_1.copy(i.current,n,!1,!0);for(var a in f)e.customProps[a](i.current,f[a]);!function(){for(var e=0,n=r;e<n.length;e++){var t=n[e];if(t._cachedHandlersChanged){t._handlersChanged=t._cachedHandlersChanged;t._cachedHandlersChanged=null}}r=[]}()}},updateChildProps=function(){s.current=updateChildProperties({controlRef:i,childInfo:s.current},e.props.children)};React.useLayoutEffect((function(){if(t.current&&!i.current){i.current=new e.constructor(t.current,u);e.prePropsInit&&e.prePropsInit(i.current);d&&(wijmo_1.isFunction(d)?d({control:i.current,props:e.props}):d.current&&d.current.control==i.current||(d.current={control:i.current,props:e.props}));updateProps();e.initControl&&e.initControl(i.current);e.props.initialized&&setTimeout((function(){i.current&&e.props.initialized(i.current)}))}else a.current&&(a.current=!1);return function(){if(i.current){var e=i.current;a.current=!0;queueMicrotask((function(){if(a.current){e.dispose();i.current=null;s.current={};a.current=!1}}))}}}),[]);i.current&&updateProps();return{renderResult:React.createElement("div",__assign({ref:t},p),[]),wjControl:i.current}}exports.useWjComponentBase=useWjComponentBase;function filterKnownProps(e,r,n){var t={};for(var o in e)(r.has(o)||n.has(o))&&(t[o]=e[o]);return t}function clearAndGetEvents(e,r,n,t){var o=t.current,i={};for(var s in r)n.has(s)&&(i[s]=r[s]);for(var a in o)e[a]&&(!_oldSyncBehavior||r[a]?e[a].removeHandler(o[a]):i[a]=o[a]);return i}function getCustomPropsData(e,r){var n={};for(var t in r)void 0!==e[t]&&(n[t]=e[t]);return n}function useWjComponentChildBase(e){var r={};r.knowProperties=new Set(e.properties);r.knowEvents=new Set(e.events);e.customProps||(e.customProps={});return{getInstance:function(n){var t={current:{}},o={current:{}},i={current:{}},s=getPropsAccordingToSyncMode(e.props,t.current),a=filterKnownProps(s,r.knowProperties,r.knowEvents),c=getCustomPropsData(s,e.customProps||{}),u=e.customConstructor?e.customConstructor(n,a,c):new e.constructor(e.needParentInstance?n:a,e.needParentInstance?a:void 0);e.ref&&(wijmo_1.isFunction(e.ref)?e.ref({control:u,props:e.props}):e.ref.current&&e.ref.current.control==u||(e.ref.current={control:u,props:e.props}));i.current=clearAndGetEvents(u,s,r.knowEvents,i);var updateProps=function(n){var s=getPropsAccordingToSyncMode(n,t.current);t.current=n;e.ref&&e.ref.current&&(e.ref.current.props=n);i.current=clearAndGetEvents(u,s,r.knowEvents,i);var a,c=filterKnownProps(s,r.knowProperties,r.knowEvents);u.initialize?u.initialize(c):wijmo_1.copy(u,c,!1,!0);for(var l in e.customProps)void 0!==s[l]&&e.customProps[l](u,s[l]);a=n.children||[],o.current=updateChildProperties({controlRef:{current:u},childInfo:o.current},a)};updateProps(e.props||[]);e.props.initialized&&wijmo_1.isFunction(e.props.initialized)&&e.props.initialized(u);return{instance:u,updateProps:updateProps}},props:e.props,parentProp:e.parentProp,wjProperty:e.props.wjProperty,isParentPropArray:e.isParentPropArray,assignedToParent:e.assignedToParent}}exports.useWjComponentChildBase=useWjComponentChildBase;var _reactMajorVersion,elemRootMap=[];if(!_reactMajorVersion){var version=parseInt(React.version);_reactMajorVersion=version;version>=18&&lazyImportDomClient()}var flushSyncStateCache={isReactRendering:null};function isReactRendering(){if(null==flushSyncStateCache.isReactRendering)try{var e=console.error,r=!1;console.error=function(){var e=arguments[0]||"";e.includes("flushSync")&&(r=!0)};flushSync((function(){}));console.error=e;flushSyncStateCache.isReactRendering=r}catch(e){}finally{queueMicrotask((function(){flushSyncStateCache.isReactRendering=null}))}return!!flushSyncStateCache.isReactRendering}function getReactDOM(){return ReactDOM}function selectiveDomRender(e,r,n){void 0===n&&(n=!1);if(_reactMajorVersion<18){(0,getReactDOM().render)(e,r)}else{isReactRendering()&&(n=!0);var t,o=elemRootMap.findIndex((function(e){return e.host===r}));if(-1===o){t=reactDomClient.createRoot(r);elemRootMap.push({host:r,root:t})}else t=elemRootMap[o].root;t.__scheduledForUnmount=!1;n?queueMicrotask((function(){flushSync((function(){t.render(e)}))})):flushSync((function(){t.render(e)}))}return r}exports.selectiveDomRender=selectiveDomRender;function unmountSafely(e){var r=e._internalRoot&&e._internalRoot.containerInfo.firstChild,n=e._internalRoot&&e._internalRoot.current&&e._internalRoot.current.child&&e._internalRoot.current.child.stateNode;n&&r==n?e.unmount():e._internalRoot=null;e.__scheduledForUnmount=null}function selectiveDomUnmount(e){if(_reactMajorVersion<18){(0,getReactDOM().unmountComponentAtNode)(e)}else{var r=elemRootMap.findIndex((function(r){return r.host===e}));if(-1!==r){var n=elemRootMap[r].root;if(isReactRendering()){n.__scheduledForUnmount=!0;queueMicrotask((function(){n.__scheduledForUnmount&&flushSync((function(){unmountSafely(n);elemRootMap.splice(r,1)}))}))}else flushSync((function(){unmountSafely(n);elemRootMap.splice(r,1)}))}}}exports.selectiveDomUnmount=selectiveDomUnmount;function baseFlushSync(){flushSync((function(){}))}exports.baseFlushSync=baseFlushSync;