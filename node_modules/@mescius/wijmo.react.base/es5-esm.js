/*!
    *
    * Wijmo Library 5.20242.21
    * https://developer.mescius.com/wijmo
    *
    * Copyright(c) MESCIUS inc. All rights reserved.
    *
    * Licensed under the End-User License Agreement For MESCIUS Wijmo Software.
    * us.sales@mescius.com
    * https://developer.mescius.com/wijmo/licensing
    *
    */

var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,r,n,t){return new(n||(n=Promise))((function(o,a){function fulfilled(e){try{step(t.next(e))}catch(e){a(e)}}function rejected(e){try{step(t.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):new n((function(r){r(e.value)})).then(fulfilled,rejected)}step((t=t.apply(e,r||[])).next())}))},__generator=this&&this.__generator||function(e,r){var n,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;(t=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:!1};case 5:i.label++;t=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}o[2]&&i.ops.pop();i.trys.pop();continue}a=r.call(e,i)}catch(e){a=[6,e];t=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};import{ObservableArray,asString,copy,isArray,isFunction,asBoolean}from"@mescius/wijmo";import*as ReactDOM from"react-dom";import*as React from"react";var flushSyncPolyfill=function(e){e()},createRootPolyfill=function(){throw"Wijmo: React dependencies not loaded properly"},ReactDomPolyfill={flushSync:flushSyncPolyfill,createRoot:createRootPolyfill},reactDomClient=ReactDOM||ReactDomPolyfill,flushSync=reactDomClient.flushSync;function lazyImportDomClient(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){try{e=require("react-dom/client");reactDomClient=e||ReactDOM||ReactDomPolyfill;flushSync=e.flushSync||flushSync}catch(e){reactDomClient=ReactDOM||ReactDomPolyfill}return[2]}))}))}var _oldSyncBehavior=!0;export function strictStateMode(e){void 0===e&&(e=!1);e==_oldSyncBehavior&&(_oldSyncBehavior=!asBoolean(e,!1))}export var ControlBaseMeta={inputs:["isDisabled","tabOrder"],events:["gotFocus","invalidInput","lostFocus","refreshed","refreshing"]};var alwaysClearProps=new Set(["columns","columnGroups"]),unsuppressedChangedEventProps=new Set(["panes","columnGroups","columns","items"]),specialProps=new Set(["initialized","wjItemTemplate"]);function updateChildProperties(e,r){var n=e.controlRef.current,t={},o={};if(r){for(var a=isArray(r)?r.flat(1/0):[r],i=[],s=0,c=new Set,u=0,l=a;u<l.length;u++){if((P=l[u])&&P.type&&P.type.$$typeof==Symbol.for("react.forward_ref")){i.push(P.type.render(P.props,P.ref));i[i.length-1].$index=s;i[i.length-1].$key=P.key}else if(P&&isFunction(P.type)){i.push(P.type(P.props));i[i.length-1].$index=s;i[i.length-1].$key=P.key}P||c.add(s);s++}for(var p=[],f=0,d=i;f<d.length;f++){if((P=d[f]).assignedToParent){if(P.wjProperty){P.parentProp=asString(P.wjProperty);P.isParentPropArray=n[P.parentProp]&&isArray(n[P.parentProp])}P.isParentPropArray&&!t[P.parentProp]&&(t[P.parentProp]=[]);P.isParentPropArray?t[P.parentProp].push({getInstance:P.getInstance,props:P.props,$key:P.$key,$index:P.$index}):t[P.parentProp]={getInstance:P.getInstance,props:P.props}}else p.push(P)}var h=e.childInfo,_loop_1=function(e){if(isArray(t[e])){var r=!1;if(n[e]&&null!=n[e]._updating&&!unsuppressedChangedEventProps.has(e)){n[e]._updating++;r=!0}var a=h[e];o[e]=[];if(!h[e]){a=[];n[e]&&n[e].clear?n[e].clear():n[e]||(n[e]=new ObservableArray)}!_oldSyncBehavior&&alwaysClearProps.has(e)&&n[e]&&n[e].clear&&n[e].clear();if(_oldSyncBehavior)for(var i=a.length-1;i>=0;i--)if(c.has(a[i].$index)){n[e].remove(a[i].instance);a.splice(i,1)}for(var s=[],u={},l=0,p=a;l<p.length;l++){var f=p[l];null!=f.$key?u[""+f.$key]=f:s.push(f)}for(var d=0,getExistingInstance=function(e){void 0===e&&(e=null);if(null!=e){var r=u[e];null!=r&&delete u[e];return r}return s[d++]},v=0;v<t[e].length;v++){var y=!1;if(_=getExistingInstance(t[e][v].$key))_.updateProps(t[e][v].props);else{_=t[e][v].getInstance(n);y=!0}_.$index=t[e][v].$index;_.$key=t[e][v].$key;(!_oldSyncBehavior&&alwaysClearProps.has(e)||y)&&(n[e].length==v?n[e].push(_.instance):n[e].splice(v,0,_.instance));o[e].push(_)}for(var g=0,m=Object.keys(u);g<m.length;g++){var P=m[g];n[e].remove(u[P].instance)}for(;!_oldSyncBehavior&&n[e].length>o[e].length;)n[e].pop();if(r){n[e]._updating--;h[e]&&h[e].length==t[e].length||n[e]._raiseCollectionChanged&&n[e]._raiseCollectionChanged()}}else{var _;if(_=h[e])_.updateProps(t[e].props);else{_=t[e].getInstance(n);n[e]=_.instance}o[e]=_}};for(var v in t)_loop_1(v);for(var y=[],g=0,m=h.$_nonassignable||[];g<m.length;g++){var P=m[g];c.has(P.$index)?P.instance&&P.instance.dispose&&isFunction(P.instance.dispose)&&P.instance.dispose():y.push(P)}for(var _=[],R=0;R<p.length;R++){var S=y[R];S?S.updateProps(p[R].props):S=p[R].getInstance(n);S.$index=p[R].$index;_.push(S)}o.$_nonassignable=_;for(;R<y.length;R++)y[R].instance&&y[R].instance.dispose&&isFunction(y[R].instance.dispose)&&y[R].instance.dispose()}if(_oldSyncBehavior)for(var w=0,C=Object.keys(e.childInfo);w<C.length;w++){var k=C[w];if(isArray(e.childInfo[k])&&!t[k]&&n[k]&&n[k].remove)for(var b=0,M=e.childInfo[k];b<M.length;b++){var I=M[b];n[k].remove(I.instance)}}return o}function getPropsAccordingToSyncMode(e,r,n){void 0===n&&(n=null);if(!r||!_oldSyncBehavior){return __assign({},e)}var t={};for(var o in e){var a=!1;n&&(a=n.knowProperties.has(o)||n.knowEvents.has(o)||n.knowCustomProps.has(o));(n&&!a||e[o]!==r[o])&&(t[o]=e[o])}return t}export function useWjComponentBase(e){var r=React.useRef({}),n=React.useRef(),t=React.useRef(),o=React.useRef(),a=React.useRef(),i=React.useRef({}),s=React.useRef(!1);e.customProps||(e.customProps={});if(!n.current){n.current={};n.current.knowProperties=new Set(e.properties);n.current.knowEvents=new Set(e.events);n.current.knowCustomProps=new Set(Object.keys(e.customProps))}var c=e.props;if(a.current){c=getPropsAccordingToSyncMode(e.props,r.current,n.current);r.current=e.props}var u={},l={},p={},f={},d=e.ref||null;for(var h in c)if(n.current.knowProperties.has(h))u[h]=c[h];else if(n.current.knowEvents.has(h)){l[h]=c[h];u[h]=c[h]}else e.customProps[h]?f[h]=c[h]:specialProps.has(h)||(p[h]=c[h]);if(a.current&&_oldSyncBehavior)for(var h in l)delete u[h];var updateProps=function(){d&&d.current&&(d.current.props=e.props);updateChildProps();var r=[],n=u;if(o.current&&a.current&&!_oldSyncBehavior){for(var t in o.current)if(a.current[t]){if(a.current[t]._handlersChanged){a.current[t]._cachedHandlersChanged=a.current[t]._handlersChanged;a.current[t]._handlersChanged=null;r.push(a.current[t])}a.current[t].removeHandler(o.current[t])}n=__assign({},u);for(var i in l){delete n[i];a.current[i].addHandler(l[i])}}else if(!o.current){n=__assign({},u);for(var i in l)delete n[i]}o.current=l;if(a.current){copy(a.current,n,!1,!0);for(var s in f)e.customProps[s](a.current,f[s]);!function(){for(var e=0,n=r;e<n.length;e++){var t=n[e];if(t._cachedHandlersChanged){t._handlersChanged=t._cachedHandlersChanged;t._cachedHandlersChanged=null}}r=[]}()}},updateChildProps=function(){i.current=updateChildProperties({controlRef:a,childInfo:i.current},e.props.children)};React.useLayoutEffect((function(){if(t.current&&!a.current){a.current=new e.constructor(t.current,u);e.prePropsInit&&e.prePropsInit(a.current);d&&(isFunction(d)?d({control:a.current,props:e.props}):d.current&&d.current.control==a.current||(d.current={control:a.current,props:e.props}));updateProps();e.initControl&&e.initControl(a.current);e.props.initialized&&setTimeout((function(){a.current&&e.props.initialized(a.current)}))}else s.current&&(s.current=!1);return function(){if(a.current){var e=a.current;s.current=!0;queueMicrotask((function(){if(s.current){e.dispose();a.current=null;i.current={};s.current=!1}}))}}}),[]);a.current&&updateProps();return{renderResult:React.createElement("div",__assign({ref:t},p),[]),wjControl:a.current}}function filterKnownProps(e,r,n){var t={};for(var o in e)(r.has(o)||n.has(o))&&(t[o]=e[o]);return t}function clearAndGetEvents(e,r,n,t){var o=t.current,a={};for(var i in r)n.has(i)&&(a[i]=r[i]);for(var s in o)e[s]&&(!_oldSyncBehavior||r[s]?e[s].removeHandler(o[s]):a[s]=o[s]);return a}function getCustomPropsData(e,r){var n={};for(var t in r)void 0!==e[t]&&(n[t]=e[t]);return n}export function useWjComponentChildBase(e){var r={};r.knowProperties=new Set(e.properties);r.knowEvents=new Set(e.events);e.customProps||(e.customProps={});return{getInstance:function(n){var t={current:{}},o={current:{}},a={current:{}},i=getPropsAccordingToSyncMode(e.props,t.current),s=filterKnownProps(i,r.knowProperties,r.knowEvents),c=getCustomPropsData(i,e.customProps||{}),u=e.customConstructor?e.customConstructor(n,s,c):new e.constructor(e.needParentInstance?n:s,e.needParentInstance?s:void 0);e.ref&&(isFunction(e.ref)?e.ref({control:u,props:e.props}):e.ref.current&&e.ref.current.control==u||(e.ref.current={control:u,props:e.props}));a.current=clearAndGetEvents(u,i,r.knowEvents,a);var updateProps=function(n){var i=getPropsAccordingToSyncMode(n,t.current);t.current=n;e.ref&&e.ref.current&&(e.ref.current.props=n);a.current=clearAndGetEvents(u,i,r.knowEvents,a);var s,c=filterKnownProps(i,r.knowProperties,r.knowEvents);u.initialize?u.initialize(c):copy(u,c,!1,!0);for(var l in e.customProps)void 0!==i[l]&&e.customProps[l](u,i[l]);s=n.children||[],o.current=updateChildProperties({controlRef:{current:u},childInfo:o.current},s)};updateProps(e.props||[]);e.props.initialized&&isFunction(e.props.initialized)&&e.props.initialized(u);return{instance:u,updateProps:updateProps}},props:e.props,parentProp:e.parentProp,wjProperty:e.props.wjProperty,isParentPropArray:e.isParentPropArray,assignedToParent:e.assignedToParent}}var _reactMajorVersion,elemRootMap=[];if(!_reactMajorVersion){var version=parseInt(React.version);_reactMajorVersion=version;version>=18&&lazyImportDomClient()}var flushSyncStateCache={isReactRendering:null};function isReactRendering(){if(null==flushSyncStateCache.isReactRendering)try{var e=console.error,r=!1;console.error=function(){var e=arguments[0]||"";e.includes("flushSync")&&(r=!0)};flushSync((function(){}));console.error=e;flushSyncStateCache.isReactRendering=r}catch(e){}finally{queueMicrotask((function(){flushSyncStateCache.isReactRendering=null}))}return!!flushSyncStateCache.isReactRendering}function getReactDOM(){return ReactDOM}export function selectiveDomRender(e,r,n){void 0===n&&(n=!1);if(_reactMajorVersion<18){(0,getReactDOM().render)(e,r)}else{isReactRendering()&&(n=!0);var t,o=elemRootMap.findIndex((function(e){return e.host===r}));if(-1===o){t=reactDomClient.createRoot(r);elemRootMap.push({host:r,root:t})}else t=elemRootMap[o].root;t.__scheduledForUnmount=!1;n?queueMicrotask((function(){flushSync((function(){t.render(e)}))})):flushSync((function(){t.render(e)}))}return r}function unmountSafely(e){var r=e._internalRoot&&e._internalRoot.containerInfo.firstChild,n=e._internalRoot&&e._internalRoot.current&&e._internalRoot.current.child&&e._internalRoot.current.child.stateNode;n&&r==n?e.unmount():e._internalRoot=null;e.__scheduledForUnmount=null}export function selectiveDomUnmount(e){if(_reactMajorVersion<18){(0,getReactDOM().unmountComponentAtNode)(e)}else{var r=elemRootMap.findIndex((function(r){return r.host===e}));if(-1!==r){var n=elemRootMap[r].root;if(isReactRendering()){n.__scheduledForUnmount=!0;queueMicrotask((function(){n.__scheduledForUnmount&&flushSync((function(){unmountSafely(n);elemRootMap.splice(r,1)}))}))}else flushSync((function(){unmountSafely(n);elemRootMap.splice(r,1)}))}}}export function baseFlushSync(){flushSync((function(){}))}